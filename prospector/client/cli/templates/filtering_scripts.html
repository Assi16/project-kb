<script type="text/javascript">
    buttons = document.getElementsByClassName("selector");

    function toggle(selector) {
        if (selector.classList.contains("btn-primary")) {
            selector.classList.replace("btn-primary", "btn-outline-primary");
        } else {
            selector.classList.replace("btn-outline-primary", "btn-primary");
        }

        // let commit_cards = document.getElementsByClassName('commit');
        // for (let card of commit_cards) {
        //     card.classList.remove('d-none');
        // }
        // let selectors = document.getElementsByClassName("selector");
        // for (const selector of selectors) {
        // if (selector.classList.contains('btn-primary') && !selector.id == "relevancefilter") {
        //     for (let card of commit_cards) {
        //         let annotations = JSON.parse(card.dataset.annotations);
        //         let relevant = annotations.hasOwnProperty(selector.dataset.annotation);
        //         if (relevant) {
        //             card.classList.replace('d-none', 'd-flex')
        //         }
        //     }
        // }
        //     if (selector.id == "relevancefilter") {
        //         for (let card of commit_cards) {
        //             let relevance = JSON.parse(card.dataset.relevance);
        //             if (relevance > 10) {
        //                 card.classList.add('d-flex')
        //             } else {
        //                 card.classList.add('d-none')
        //             }
        //         }
        //     }
        // }
        // console.log("toggle: " + selector.dataset.annotation)
    }

    function showFromRelevance(relevance) {
        let commit_cards = document.getElementsByClassName('commit');
        for (let card of commit_cards) {
            let commit_relevance = card.dataset.relevances;
            if (commit_relevance > relevance) {
                if (card.classList.contains('d-none')) {
                    card.classList.replace('d-none', 'd-flex')
                }
            } else {
                if (card.classList.contains('d-flex')) {
                    card.classList.replace('d-flex', 'd-none')
                }
            }
        }
    }

    for (let b of buttons) {
        if (b.id == "relevancefilter") {
            b.addEventListener('click', function () { showFromRelevance(20); })
        } else if (b.id == "relevancefilter2") {
            b.addEventListener('click', function () { showFromRelevance(15); })
        } else if (b.id == "relevancefilter3") {
            b.addEventListener('click', function () { showFromRelevance(10); })
        } else if (b.id == "relevancefilter4") {
            b.addEventListener('click', function () { showFromRelevance(0); })
        }
    }
</script>